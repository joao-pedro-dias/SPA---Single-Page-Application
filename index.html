<!DOCTYPE html>
<html lang="en">
<head>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet">

    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link rel="stylesheet" href="css/style.css">

    <title>SPA Universe</title>
</head>
<body>
    <div class="page">
        <nav class="nav">
            <img src="images/logo.svg" alt="logo">
            <ul class="item">
                <a href="/" onclick="route()" class="items active">Home</a>
                <a href="/universe" onclick="route()" class="items">O Universo</a>
                <a href="/exploration" onclick="route()" class="items">Exploração</a>
            </ul>
        </nav>

        <main id="app"></main>
    </div>

    <script>
        const routes = {
          "/": "/pages/home.html",
          "/universe": "/pages/universe.html",
          "/exploration": "/pages/exploration.html",
          404: "/pages/404.html",
        }
    
        function route(event) {
          event = event || window.event
          event.preventDefault()

          window.history.pushState({}, "", event.target.href)
    
          handle()
        }
    
        function handle() {
          const { pathname }  = window.location
          const route = routes[pathname] || routes[404]
    
          fetch(route)
          .then(data => data.text())
          .then(html => {
            document.querySelector("#app").innerHTML = html
          })
        }

        handle()

        window.onpopstate = () => handle()
        window.route = () => route()
        
      </script>

</body>
</html>